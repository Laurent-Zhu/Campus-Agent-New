# ğŸ› ï¸ æ•™å­¦å®è®­æ™ºèƒ½ä½“ç³»ç»Ÿç¯å¢ƒé…ç½®æŒ‡å—

## 1. ç³»ç»Ÿè¦æ±‚

- Python 3.10+
- è‡³å°‘ 8GB RAM
- 50GB ç£ç›˜ç©ºé—´(ç”¨äºæ¨¡å‹å­˜å‚¨)
- CUDA æ”¯æŒ(å¯é€‰,ç”¨äºGPUåŠ é€Ÿ)

## 2. ç›®å½•ç»“æ„åˆ›å»º

```bash
mkdir -p campus-agent/{frontend,backend,ai_agents,models,knowledge,data,visualize,config}
cd campus-agent
```

## 3. Python ç¯å¢ƒé…ç½®

```bash
# åˆ›å»ºå¹¶æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ
conda create -n campus-agent python=3.10
conda activate campus-agent

# å…‹éš†é¡¹ç›®(å¦‚æœæ˜¯ä»Gitä»“åº“)
git clone https://github.com/your-repo/campus-agent.git
cd campus-agent
```

## 4. ä¾èµ–åŒ…å®‰è£…

```bash
# æ ¸å¿ƒä¾èµ–
pip install langchain==0.1.0         # LangChainæ¡†æ¶
pip install fastapi==0.104.1         # åç«¯APIæ¡†æ¶
pip install uvicorn==0.24.0          # ASGIæœåŠ¡å™¨
pip install pydantic==2.5.2          # æ•°æ®éªŒè¯
pip install transformers==4.35.2     # Transformersåº“
pip install torch==2.1.1             # PyTorch
pip install chromadb==0.4.18         # å‘é‡æ•°æ®åº“
pip install python-jose==3.3.0       # JWTè®¤è¯
pip install python-multipart==0.0.6  # æ–‡ä»¶ä¸Šä¼ 
pip install sqlalchemy==2.0.23       # ORMæ¡†æ¶

# æ–‡æ¡£å¤„ç†ç›¸å…³
pip install unstructured           # æ–‡æ¡£è§£æ
pip install pymupdf               # PDFå¤„ç†
pip install python-docx           # Wordæ–‡æ¡£å¤„ç†

# å¯è§†åŒ–ç›¸å…³
pip install streamlit             # æ•°æ®å¯è§†åŒ–
pip install plotly               # äº¤äº’å¼å›¾è¡¨
pip install echarts-python       # Echartså›¾è¡¨
```

## 5. æ¨¡å‹ä¸‹è½½ä¸é…ç½®

```bash
# 1. åˆ›å»ºæ¨¡å‹ç›®å½•
mkdir -p models/llm
cd models/llm

# 2. å®‰è£…git-lfs
sudo apt-get install git-lfs
git lfs install

# 3. ä»HuggingFaceä¸‹è½½æ¨¡å‹(äºŒé€‰ä¸€)

# æ–¹å¼1ï¼šç›´æ¥å…‹éš†(æ¨èï¼Œä½†éœ€è¦è¾ƒå¥½çš„ç½‘ç»œç¯å¢ƒ)
git clone https://huggingface.co/THUDM/chatglm3-6b
# æ–¹å¼1-1ï¼šä½¿ç”¨é•œåƒç«™
export HF_ENDPOINT=https://hf-mirror.com
git clone https://hf-mirror.com/THUDM/chatglm3-6b

# æ–¹å¼2ï¼šä½¿ç”¨huggingface_hubä¸‹è½½(å¯æ–­ç‚¹ç»­ä¼ )
pip install --upgrade huggingface_hub
python -c "from huggingface_hub import snapshot_download; snapshot_download(repo_id='THUDM/chatglm3-6b', local_dir='./chatglm3-6b')"

# å¦‚æœä¸‹è½½é€Ÿåº¦è¾ƒæ…¢ï¼Œå¯ä»¥è®¾ç½®å›½å†…é•œåƒ
export HF_ENDPOINT=https://hf-mirror.com
```

å¦‚æœé‡åˆ°ç½‘ç»œé—®é¢˜ï¼Œä¹Ÿå¯ä»¥ï¼š
1. ä½¿ç”¨ä»£ç†
2. ä»å›½å†…é•œåƒç«™ä¸‹è½½
3. ä½¿ç”¨ç¦»çº¿æ¨¡å‹åŒ…

## 6. ç¯å¢ƒå˜é‡é…ç½®

åˆ›å»º `.env` æ–‡ä»¶:

```env
# æ¨¡å‹é…ç½®
MODEL_PATH=/home/laurentzhu/PycharmProjects/CampusAgent/campus-agent/models/llm/chatglm3-6b
DEVICE=cuda  # å¦‚æœæ²¡æœ‰GPUï¼Œè¯·æ”¹ä¸ºcpu

# æ•°æ®åº“é…ç½®
DB_URL=sqlite:////home/laurentzhu/PycharmProjects/CampusAgent/campus-agent/campus_agent.db
DB_ECHO=True  # å¼€å‘ç¯å¢ƒæ‰“å°SQLè¯­å¥

# å®‰å…¨é…ç½®
JWT_SECRET_KEY=$(openssl rand -hex 32)  # ç”Ÿæˆéšæœºå¯†é’¥
JWT_ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30
CORS_ORIGINS=["http://localhost:3000","http://127.0.0.1:3000"]

# æ–‡ä»¶å­˜å‚¨
UPLOAD_DIR=/home/laurentzhu/PycharmProjects/CampusAgent/campus-agent/data/uploads
VECTOR_DB_PATH=/home/laurentzhu/PycharmProjects/CampusAgent/campus-agent/data/vector_store
MAX_UPLOAD_SIZE=10485760  # 10MB

# æ—¥å¿—é…ç½®
LOG_LEVEL=DEBUG
LOG_FILE=/home/laurentzhu/PycharmProjects/CampusAgent/campus-agent/logs/app.log
```

## 7. æ•°æ®åº“åˆå§‹åŒ–

```bash
# åˆ›å»ºæ•°æ®åº“è¿ç§»
alembic init migrations

# ç”Ÿæˆè¿ç§»è„šæœ¬
alembic revision --autogenerate -m "initial"

# æ‰§è¡Œè¿ç§»
alembic upgrade head
```

## 8. å¯åŠ¨æœåŠ¡

```bash
# åç«¯æœåŠ¡
uvicorn backend.main:app --reload --host 0.0.0.0 --port 8000

# å‰ç«¯å¼€å‘æœåŠ¡å™¨(æ–°ç»ˆç«¯)
cd frontend
npm install
npm run dev
```

## 9. éªŒè¯éƒ¨ç½²

è®¿é—®ä»¥ä¸‹åœ°å€éªŒè¯æœåŠ¡æ˜¯å¦æ­£å¸¸è¿è¡Œï¼š
- Swagger APIæ–‡æ¡£: http://localhost:8000/docs
- å‰ç«¯ç•Œé¢: http://localhost:3000

## 10. å¼€å‘å·¥å…·æ¨è

- IDE: VSCode
  - Python æ’ä»¶
  - Pylance
  - GitLens
  - Vue Language Features
  - Auto Docstring

## 11. å¸¸è§é—®é¢˜å¤„ç†

### CUDA ç›¸å…³
```bash
# æ£€æŸ¥CUDAæ˜¯å¦å¯ç”¨
python -c "import torch; print(torch.cuda.is_available())"

# æŸ¥çœ‹CUDAç‰ˆæœ¬
nvidia-smi
```

### ä¾èµ–é—®é¢˜
```bash
# æ¸…ç†pipç¼“å­˜
pip cache purge

# å¯¼å‡ºä¾èµ–
pip freeze > requirements.txt

# ä»requirements.txtå®‰è£…
pip install -r requirements.txt
```

### æ•°æ®åº“é—®é¢˜
```bash
# é‡ç½®æ•°æ®åº“
alembic downgrade base
alembic upgrade head

# å¤‡ä»½æ•°æ®åº“
sqlite3 campus.db ".backup 'backup.db'"
```

### å†…å­˜é—®é¢˜
```bash
# LinuxæŸ¥çœ‹å†…å­˜ä½¿ç”¨
free -h

# æ¸…ç†æ˜¾å­˜
torch.cuda.empty_cache()
```