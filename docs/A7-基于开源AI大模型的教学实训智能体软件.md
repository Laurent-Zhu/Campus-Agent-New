---
typora-copy-images-to: assets
---

## A7-基于开源AI大模型的教学实训智能体软件

------

# 🧠 LangChain 教学实训智能体系统 —— 完整项目梳理

------

## 🗂 一、项目总览

### 🎯 项目目标

基于开源大模型 + LangChain 实现一个 **AI 驱动的智能教学平台**，涵盖：

- 教师：智能备课、考核生成、学情分析
- 学生：问答助手、练习推荐、纠错
- 管理：用户管理、课件管理、数据大屏

------

## 🏗 二、系统架构

```
├── frontend/       # Vue/React，用户交互界面
├── backend/        # FastAPI 后端服务，处理请求、权限、接口
├── ai_agents/      # LangChain 智能体逻辑（教师/学生/管理）
├── models/         # 模型服务接口（如ChatGLM3、Qwen）
├── knowledge/      # 本地知识库（教材/题库等，向量化）
├── data/           # 用户数据、学情数据、日志
├── visualize/      # Echarts/Plotly 可视化大屏
└── config/         # 配置文件（模型路径、数据库配置等）
```

```
+------------------------------+
| 前端（Vue3 / React）         |
+-------------+----------------+
              ↓
+------------------------------+
| 后端服务（FastAPI / Flask）  |
| 用户登录、上传文件、数据管理 |
+-------------+----------------+
              ↓
+------------------------------+
| LangChain Agent框架          |
| 教师Agent、学生Agent         |
| 结合工具出题、问答、分析等   |
+-------------+----------------+
              ↓
+------------------------------+
| 模型API（ChatGLM、Qwen等）   |
| 向量数据库（FAISS/Chroma）   |
| 本地知识库内容               |
+------------------------------+

```

---

## 🔑 三、模块划分与实现方案

------

### 👩‍🏫 教师端模块（TeacherAgent）

<img src="/home/laurentzhu/2025-6软件杯/assets/image-20250623115202182.png" alt="image-20250623115202182" style="zoom:70%;" />

#### 1. 智能备课与教学设计

- **输入**：课程大纲、教学目标（PDF/DOCX）
- **流程**：
  - LangChain + `DocumentLoader` 加载内容
  - `RetrievalQA`/`QAChain` 结合 Prompt 模板生成教案、PPT 结构
- **输出**：结构化课件草稿 + 实训计划 + 时间安排表

#### 2. 自动出题系统

- **输入**：知识点 + 出题风格
- **技术**：LangChain `Tool Agent` + 自定义 `create_question()` 工具
- **支持题型**：选择题、填空题、编程题、问答题
- **输出**：题目JSON结构 + 答案 + 解析

#### 3. 学情分析助手

- **输入**：学生提交记录（如选择题、编程题）
- **处理方式**：
  - 选择题：自动比对
  - 编程题：Docker沙盒运行代码并评测
- **输出**：
  - 错题解析 + 评分结果 + 个性化建议
  - 教学建议（哪些知识点需要加强）

------

### 👨‍🎓 学生端模块（StudentAgent）

<img src="/home/laurentzhu/2025-6软件杯/assets/image-20250623115239554.png" alt="image-20250623115239554" style="zoom:70%;" />

#### 1. 学习问答助手

- **技术**：LangChain `ConversationalRetrievalChain`
- **输入**：学生自然语言提问
- **知识库**：教师上传的教材、讲义 → 预处理 + 向量化
- **输出**：精准定位 + 模型回答

#### 2. 智能练习与纠错助手

- **流程**：
  - 学生错题记录自动存储
  - 调用 `generate_practice()` 工具生成个性化练习题
  - 模型分析错误并输出解释（如代码逻辑错误）

#### 3. 学习记录与成长档案

- 可选功能：对学生历史记录进行向量化并总结知识掌握图谱

------

### 🛠 管理端模块（管理页面 + 可视化）

<img src="/home/laurentzhu/2025-6软件杯/assets/image-20250623115314294.png" alt="image-20250623115314294" style="zoom:70%;" />

#### 功能：

- 账号管理（JWT认证）：学生/教师/管理员
- 教师课件资源管理（上传、分类、导出）
- 使用数据统计：用户访问量、提问热点、模块使用频次
- 可视化大屏（Echarts）：错题热力图、课程通过率趋势等

------

## 🧱 四、核心技术选型

| 领域      | 技术                          | 说明                        |
| --------- | ----------------------------- | --------------------------- |
| 模型      | ChatGLM3 / Qwen / Baichuan2   | 支持本地部署，中文能力强    |
| LangChain | Agents、Chains、Tools、Memory | 搭建智能体主框架            |
| 向量库    | FAISS / Chroma                | 存储教材知识索引，供检索    |
| 后端      | FastAPI                       | 提供API服务、认证、数据路由 |
| 前端      | Vue3 / React                  | 多端交互界面                |
| 数据库    | SQLite / PostgreSQL           | 存储用户、学情、练习数据    |
| 可视化    | Echarts / Streamlit           | 学情数据、活跃度展示        |
| 文档解析  | Unstructured / PyMuPDF        | 提取教材内容用于向量化      |

------

## 🔄 五、数据流与交互流程示意

### 示例 1：学生提问 → 教材问答

```
[学生提问] → 前端发送API → 后端调用 LangChain QAChain →
向量数据库中查找最相关教材段落 → 送入模型 → 返回答案
```

### 示例 2：教师上传大纲 → 自动出题

```
上传课程文件 → 文档解析 → 教师选择知识点 → LangChain Tool 生成题目 →
教师确认并导出 → 存入题库
```

### 示例 3：学生练习 → 错题分析 → 题目推荐

```
学生答题 → 系统评分 → 错题归档 → 分析错误模式 →
LangChain 生成个性化练习题 → 提供答案与解析
```

------

## 📆 六、开发周期建议（4~6周）

| 周期  | 内容                                        |
| ----- | ------------------------------------------- |
| 第1周 | 框架搭建、LangChain基础测试、本地模型部署   |
| 第2周 | 教师智能备课 + 出题系统开发                 |
| 第3周 | 学生问答系统 + 错题分析搭建                 |
| 第4周 | 数据管理系统 + 可视化大屏实现               |
| 第5周 | UI开发与前后端联调、优化体验                |
| 第6周 | 测试、部署、打包提交材料（PPT、演示视频等） |

------

## 📦 七、你可以立即开始的事

### ✅ 环境搭建：

```bash
conda create -n ai-teaching python=3.10
pip install langchain chromadb openai fastapi uvicorn
```





---

“**智能体框架（Agent Framework）**”是构建具有**自主感知、决策和行动能力**的软件系统的技术结构。它是构建“类人智能软件”的核心工具，广泛用于教育、机器人、搜索、推荐系统、对话系统、自动工作流等领域。

------

## 🧠 一、什么是智能体（Agent）？

**智能体**是一个能感知环境、做出决策并采取行动的系统。

经典定义（来自人工智能领域）：

> > **Agent = 感知（Perceive） + 决策（Reason） + 行动（Act）**

------

## 🧱 二、智能体框架的核心组成

在大模型（LLM）驱动的现代应用中，智能体框架主要包含以下几个核心部分：

| 模块                       | 描述                                                       |
| -------------------------- | ---------------------------------------------------------- |
| **感知模块（Perception）** | 读取环境或用户输入，如提问、指令、文档、数据库、网页       |
| **记忆模块（Memory）**     | 保存对话历史、上下文、任务状态、用户信息等                 |
| **工具模块（Tools）**      | 外部功能接口，如计算器、搜索、数据库查询等（Agent 的“手”） |
| **规划模块（Planner）**    | 多步任务拆解、思考链（CoT）、自主调用工具                  |
| **执行模块（Executor）**   | 控制 Agent 执行计划并反馈结果                              |
| **语言模型（LLM）**        | 智能体的“大脑”，负责理解和生成语言、做决策                 |

------

## ⚙️ 三、常见智能体框架（LLM时代）

| 框架                      | 优势                                   | 应用方向                 |
| ------------------------- | -------------------------------------- | ------------------------ |
| **LangChain Agents**      | 灵活、集成工具系统（Tool）、可扩展性强 | 问答、RAG、多轮任务      |
| **AutoGen**               | 多智能体协作、支持编排多个 LLM         | 编程、多 Agent 协作      |
| **CrewAI**                | 类公司结构，Agent 分工协作             | 报告写作、研究类任务     |
| **Haystack Agents**       | 多模态、搜索整合能力强                 | RAG/知识检索类任务       |
| **OpenAgents（MiniAGI）** | 自我规划、自学习、自反思               | 更复杂任务（Agent Loop） |

------

## 👇 四、一个简单的智能体框架工作流程图（以 LangChain 为例）：

```
      用户输入问题
            ↓
      感知（Perception）
            ↓
      决策（LLM 生成计划）
            ↓
   是否需要外部工具？
        ↓       ↓
      否         是
     ↓           ↓
直接回答     选择工具并调用
     ↓           ↓
   输出响应     整合工具输出后回答
            ↓
        存入记忆
```

------

## 🎓 教学实训场景中的智能体框架如何体现？

| 功能点   | 智能体体现                                |
| -------- | ----------------------------------------- |
| 智能出题 | LLM + Tool + Prompt Planning（出题Agent） |
| 知识问答 | LLM + Retrieval + Memory（问答Agent）     |
| 错题分析 | Tool + Memory + 推理（批改Agent）         |
| 学情分析 | Tool + 数据接口 + 输出（分析Agent）       |

------

## ✅ 小结一句话

> **智能体框架 = 一个能理解你、能规划任务、还能调用工具帮你干活的大脑结构。**

它让大模型从“聊天工具”升级为“能干活的助手”。

------

from pydantic_settings import BaseSettings

class Settings(BaseSettings):
    # 项目信息
    PROJECT_NAME: str = "Campus Agent"
    API_V1_STR: str = "/api/v1"
    
    # 数据库配置
    DATABASE_URL: str = "sqlite:///./campus_agent.db"
    
    # JWT配置
    SECRET_KEY: str = "your-secret-key-here"
    ACCESS_TOKEN_EXPIRE_MINUTES: int = 60 * 24 * 7
    
    # AI模型配置
    MODEL_PATH: str = "./models/chatglm3-6b"
    MODEL_TYPE: str = "chatglm3"
    
    class Config:
        case_sensitive = True

settings = Settings()

